import{i as F,h as x,j as G,e as N,d as J,H as K,k as R,l as b,m as C,o as A,q as U,u as q,v as B,w as X,I as H,x as O,y as D,z as P,A as Q,B as L,E as W,C as Z,D as $,F as j,G as ee,J as ae,K as re,L as ne,M as le}from"./TsRxPGaX.js";function ue(i,e){return e}function fe(i,e,r,u){for(var o=[],_=e.length,t=0;t<_;t++)Z(e[t].e,o,!0);var h=_>0&&o.length===0&&r!==null;if(h){var v=r.parentNode;$(v),v.append(r),u.clear(),y(i,e[0].prev,e[_-1].next)}j(o,()=>{for(var E=0;E<_;E++){var a=e[E];h||(u.delete(a.k),y(i,a.prev,a.next)),ee(a.e,!h)}})}function ve(i,e,r,u,o,_=null){var t=i,h={flags:e,items:new Map,first:null};x&&G();var v=null,E=!1,a=J(()=>{var s=r();return le(s)?s:s==null?[]:O(s)});F(()=>{var s=N(a),n=s.length;if(E&&n===0)return;E=n===0;let d=!1;if(x){var f=t.data===K;f!==(n===0)&&(t=R(),b(t),C(!1),d=!0)}if(x){for(var T=null,p,l=0;l<n;l++){if(A.nodeType===8&&A.data===U){t=A,d=!0,C(!1);break}var c=s[l],I=u(c,l);p=V(A,h,T,null,c,I,l,o,e,r),h.items.set(I,p),T=p}n>0&&b(R())}x||ie(s,h,t,o,e,u,r),_!==null&&(n===0?v?q(v):v=B(()=>_(t)):v!==null&&X(v,()=>{v=null})),d&&C(!0),N(a)}),x&&(t=A)}function ie(i,e,r,u,o,_,t){var h=i.length,v=e.items,E=e.first,a=E,s,n=null,d=[],f=[],T,p,l,c;for(c=0;c<h;c+=1){if(T=i[c],p=_(T,c),l=v.get(p),l===void 0){var I=a?a.e.nodes_start:r;n=V(I,e,n,n===null?e.first:n.next,T,p,c,u,o,t),v.set(p,n),d=[],f=[],a=n.next;continue}if(se(l,T,c),(l.e.f&H)!==0&&q(l.e),l!==a){if(s!==void 0&&s.has(l)){if(d.length<f.length){var m=f[0],g;n=m.prev;var M=d[0],w=d[d.length-1];for(g=0;g<d.length;g+=1)S(d[g],m,r);for(g=0;g<f.length;g+=1)s.delete(f[g]);y(e,M.prev,w.next),y(e,n,M),y(e,w,m),a=m,n=w,c-=1,d=[],f=[]}else s.delete(l),S(l,a,r),y(e,l.prev,l.next),y(e,l,n===null?e.first:n.next),y(e,n,l),n=l;continue}for(d=[],f=[];a!==null&&a.k!==p;)(a.e.f&H)===0&&(s??(s=new Set)).add(a),f.push(a),a=a.next;if(a===null)continue;l=a}d.push(l),n=l,a=l.next}if(a!==null||s!==void 0){for(var k=s===void 0?[]:O(s);a!==null;)(a.e.f&H)===0&&k.push(a),a=a.next;var Y=k.length;if(Y>0){var z=null;fe(e,k,z,v)}}D.first=e.first&&e.first.e,D.last=n&&n.e}function se(i,e,r,u){P(i.v,e),i.i=r}function V(i,e,r,u,o,_,t,h,v,E){var a=(v&ae)!==0,s=(v&re)===0,n=a?s?Q(o):L(o):o,d=(v&W)===0?t:L(t),f={i:d,v:n,k:_,a:null,e:null,prev:r,next:u};try{return f.e=B(()=>h(i,n,d,E),x),f.e.prev=r&&r.e,f.e.next=u&&u.e,r===null?e.first=f:(r.next=f,r.e.next=f.e),u!==null&&(u.prev=f,u.e.prev=f.e),f}finally{}}function S(i,e,r){for(var u=i.next?i.next.e.nodes_start:r,o=e?e.e.nodes_start:r,_=i.e.nodes_start;_!==u;){var t=ne(_);o.before(_),_=t}}function y(i,e,r){e===null?i.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}export{ve as e,ue as i};
